<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Bài tập về Validate Form</title>
</head>
<body>
	<form onsubmit='return false'>
		<table>
			<tr>
				<td>
					Họ và tên:
				</td>
				<td>
					<input type="name" id="ho_ten"></input>
				</td>
				<td>
					<span id="loi_ho_ten"></span>
				</td>
			</tr>
			<tr>
				<td>
					Giới tính:
				</td>
				<td>
					<input type="radio" name="gioi_tinh">Nam
					<input type="radio" name="gioi_tinh">Nữ
					<input type="radio" name="gioi_tinh">Khác
				</td>
				<td>
					<span id="loi_gioi_tinh"></span>
				</td>
			</tr>
			<tr>
				<td>
					Địa chỉ:
				</td>
				<td>
					<input type="text" id="dia_chi">
				</td>
				<td>
					<span id="loi_dia_chi"></span>
				</td>
			</tr>
			<tr>
				<td>
					Email:
				</td>
				<td>
					<input type="mail" id="email">
				</td>
				<td>
					<span id="loi_email"></span>
				</td>
			</tr>
			<tr>
				<td>
					Mật khẩu:
				</td>
				<td>
					<input type="password" id="mat_khau">
				</td>
				<td>
					<span id="loi_mat_khau"></span>
				</td>
			</tr>
			<tr>
				<td>
					Nhập lại mật khẩu:
				</td>
				<td>
					<input type="password" id="re_mat_khau">
				</td>
				<td>
					<span id="loi_re_mat_khau"></span>
				</td>
			</tr>
			<tr>
				<td>
					Sở thích:
				</td>
				<td>
					<select>
						<option>
							Xem phim
						</option>
						<option>
							Đọc sách
						</option>
						<option>
							Nghe nhạc
						</option>
					</select>
				</td>
			</tr>
			<tr>
				<td align="center">
					<button type="submit" id="nhap_vao" onclick="return ket_qua()"> Đăng kí</button>
				</td>
				<td align="center">
					<button type="reset"> Nhập lại</button>
				</td>
			</tr>
		</table>
	</form>
			<!-- Câu lệnh nhấn enter để nhập số-->
	<script>
		var input = document.getElementById('ho_ten');
		input.addEventListener('keyup', function(enter){
			if (enter.keyCode === 13){
				enter.preventDefault();
				document.getElementById('nhap_vao').click();
			}
		})
		var input = document.getElementById('dia_chi');
		input.addEventListener('keyup', function(enter){
			if (enter.keyCode === 13){
				enter.preventDefault();
				document.getElementById('nhap_vao').click();
			}
		})
		var input = document.getElementById('email');
		input.addEventListener('keyup', function(enter){
			if (enter.keyCode === 13){
				enter.preventDefault();
				document.getElementById('nhap_vao').click();
			}
		})
		var input = document.getElementById('mat_khau');
		input.addEventListener('keyup', function(enter){
			if (enter.keyCode === 13){
				enter.preventDefault();
				document.getElementById('nhap_vao').click();
			}
		})
		var input = document.getElementById('re_mat_khau');
		input.addEventListener('keyup', function(enter){
			if (enter.keyCode === 13){
				enter.preventDefault();
				document.getElementById('nhap_vao').click();
			}
		})
	</script>
	<!--  Validate Form -->
	<script type="text/javascript">
		function ket_qua() {
			let kiem_tra_ket_qua = false;
			// Kiểm tra họ tên
			let ten = document.getElementById('ho_ten').value;
			if (ten.length == 0) {
				document.getElementById('loi_ho_ten').innerHTML = 'Tên không được để trống';
				kiem_tra_ket_qua = true;
			} else {
				let regex_ten = /^[AÀẢÃÁẠĂẰẲẴẮẶÂẦẨẪẤẬBCDĐEÈẺẼÉẸÊỀỂỄẾỆFGHIÌỈĨÍỊJKLMNOÒỎÕÓỌÔỒỔỖỐỘƠỜỞỠỚỢPQRSTUÙỦŨÚỤƯỪỬỮỨỰVWXYỲỶỸÝỴZ][aàảãáạăằẳẵắặâầẩẫấậbcdđeèẻẽéẹêềểễếệfghiìỉĩíịjklmnoòỏõóọôồổỗốộơờởỡớợpqrstuùủũúụưừửữứựvwxyỳỷỹýỵz]+ [AÀẢÃÁẠĂẰẲẴẮẶÂẦẨẪẤẬBCDĐEÈẺẼÉẸÊỀỂỄẾỆFGHIÌỈĨÍỊJKLMNOÒỎÕÓỌÔỒỔỖỐỘƠỜỞỠỚỢPQRSTUÙỦŨÚỤƯỪỬỮỨỰVWXYỲỶỸÝỴZ][aàảãáạăằẳẵắặâầẩẫấậbcdđeèẻẽéẹêềểễếệfghiìỉĩíịjklmnoòỏõóọôồổỗốộơờởỡớợpqrstuùủũúụưừửữứựvwxyỳỷỹýỵz]+(?: [AÀẢÃÁẠĂẰẲẴẮẶÂẦẨẪẤẬBCDĐEÈẺẼÉẸÊỀỂỄẾỆFGHIÌỈĨÍỊJKLMNOÒỎÕÓỌÔỒỔỖỐỘƠỜỞỠỚỢPQRSTUÙỦŨÚỤƯỪỬỮỨỰVWXYỲỶỸÝỴZ][aàảãáạăằẳẵắặâầẩẫấậbcdđeèẻẽéẹêềểễếệfghiìỉĩíịjklmnoòỏõóọôồổỗốộơờởỡớợpqrstuùủũúụưừửữứựvwxyỳỷỹýỵz]*)*$/;
				if (!regex_ten.test(ten)) {
					document.getElementById('loi_ho_ten').innerHTML = 'Tên phải viết theo đúng cú pháp Tiếng Việt';
					kiem_tra_ket_qua = true;
				} else {
					document.getElementById('loi_ho_ten').innerHTML = '';
					kiem_tra_ket_qua = true;
				}
			}
			// Kiểm tra giới tính
			let kiem_tra_gioi_tinh = false;
			let	arr_gioi_tinh = document.getElementsByName('gioi_tinh');
			for (let i = 0; i < arr_gioi_tinh.length; i ++) {
				if (arr_gioi_tinh[i].checked) {
					kiem_tra_gioi_tinh = true;
				}
			}
			if (kiem_tra_gioi_tinh == false) {
				document.getElementById('loi_gioi_tinh').innerHTML = 'Bạn chưa tích vào giới tính';
				kiem_tra_ket_qua = true;
			} else {
				document.getElementById('loi_gioi_tinh').innerHTML = '';
				kiem_tra_ket_qua = true;
			}
			// Kiểm tra địa chỉ
			let dia_chi = document.getElementById('dia_chi').value;
			if (dia_chi.length == 0) {
				document.getElementById('loi_dia_chi').innerHTML = 'Địa chỉ không được để trống';
				kiem_tra_ket_qua = true;
			} else {
				let regex_dia_chi = /^[A-ZÀÁẠẢÃÂẦẤẬẨẪĂẰẮẶẲẴÈÉẸẺẼÊỀẾỆỂỄÌÍỊỈĨÒÓỌỎÕÔỒỐỘỔỖƠỜỚỢỞỠÙÚỤỦŨƯỪỨỰỬỮỲÝỴỶỸĐ][a-zàáạảãâầấậẩẫăằắặẳẵèéẹẻẽêềếệểễìíịỉĩòóọỏõôồốộổỗơờớợởỡùúụủũưừứựửữỳýỵỷỹđ]*(?:[(\-)|\/ ][A-ZÀÁẠẢÃÂẦẤẬẨẪĂẰẮẶẲẴÈÉẸẺẼÊỀẾỆỂỄÌÍỊỈĨÒÓỌỎÕÔỒỐỘỔỖƠỜỚỢỞỠÙÚỤỦŨƯỪỨỰỬỮỲÝỴỶỸĐ][a-zàáạảãâầấậẩẫăằắặẳẵèéẹẻẽêềếệểễìíịỉĩòóọỏõôồốộổỗơờớợởỡùúụủũưừứựửữỳýỵỷỹđ]*)*$/;
				if (!regex_dia_chi.test(dia_chi)) {
					document.getElementById('loi_dia_chi').innerHTML = "Địa chỉ phải viết theo đúng cú pháp tiếng Việt và có dấu '-'";
					kiem_tra_ket_qua = true;
				} else {
					document.getElementById('loi_dia_chi').innerHTML = "";
					kiem_tra_ket_qua = true;
				}
			}
			// Kiểm tra email
			let email = document.getElementById('email').value;
			if (email.length == 0) {
				document.getElementById('loi_email').innerHTML = 'Email không được bỏ trống';
				kiem_tra_ket_qua = true;
			} else {
				let regex_email = /(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/;
				if (!regex_email.test(email)) {
					document.getElementById('loi_email').innerHTML = 'Email phải được nhập theo đúng cú pháp';
					kiem_tra_ket_qua = true;
				} else {
					document.getElementById('loi_email').innerHTML = '';
					kiem_tra_ket_qua = true;
				}
			}
			// Kiểm tra password
			let mat_khau = document.getElementById('mat_khau').value;
			if (mat_khau == 0) {
				document.getElementById('loi_mat_khau').innerHTML = 'Mật khẩu không được để trống';
				kiem_tra_ket_qua = true;
			} else if (mat_khau.length < 8){
				document.getElementById('loi_mat_khau').innerHTML = 'Mật khẩu quá ngắn bạn có thể bị hack đấy';
				kiem_tra_ket_qua = true;
			} else {
				document.getElementById('loi_mat_khau').innerHTML = '';
				kiem_tra_ket_qua = true;
			}
			// Kiểm tra lại mật khẩu đã nhập
			let re_mat_khau = document.getElementById('re_mat_khau').value;
			if (re_mat_khau == 0) {
				document.getElementById('loi_re_mat_khau').innerHTML = 'Bạn phải nhập lại mật khẩu đã nhập';
				kiem_tra_ket_qua = true;
			} else if (mat_khau != re_mat_khau){
				document.getElementById('loi_re_mat_khau').innerHTML = 'Không khớp với mật khẩu bạn đã nhập';
				kiem_tra_ket_qua = true;
			} else {
				document.getElementById('loi_re_mat_khau').innerHTML = '';
				kiem_tra_ket_qua = true;
			}
			
			// Hàm trả về
			if (kiem_tra_ket_qua == true) {
				return false;
			}
		}
	</script>
</body>
</html>